<style>
/* dialog panl */
.modal-dialog.MGM110_MGM {
	position: relative;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	width: 900px;
	height: auto;
}

</style>
<script type="text/javascript" src="assets/txn/MGM110/MGM110_MGM.js"></script>

<div ng-controller="MGM110_MGMController" ng-cloak>
	<div class="modal-dialog MGM110_MGM" resizable="true">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" ng-click="closeThisDialog('cancel')">&times;</button>
				<h4 id="myModalAlertLabel" class="modal-title" align="center">案件建立</h4>
			</div>
			<div class="modal-body">
				<div class="tfb_content">
		            <div class="tfb_content_icon"></div>
		            <div class="tfb_content_tit"><img src="assets/images/icon/tfb_icon_a15.gif">推薦人</div>
		        </div>
		        <!--Content of the panel-->
		        <div class="panel_content">
		            <div class="search_table">
		                <table>
		                    <tr>
		                        <th width="10%"><span style="color: red">*</span>推薦人ID：</th>
		                        <td width="40%">
		                        	<input type="text" class="form-control" 
		                        		placeholder="請輸入..." 
					     				id="mgm_cust_id" name="mgm_cust_id" 
					     				ng-model="inputVO.mgm_cust_id" 
					     				ng-blur="checkMGMCust()"
					     				ng-disabled="row != undefined"
					     				e-length-limit="300"
					     				style="width:200px; text-transform:uppercase; ">
					     			<span style="color: red" ng-show="inputVO.mgm_cust_id == ''">請先輸入推薦人ID。</span>
		                        </td>
		                        
		                        <th width="10%">推薦人姓名：</th>
		                        <td width="40%">
		                            <input type="text" class="form-control"
					     				id="mgm_cust_name" name="mgm_cust_name" 
					     				ng-model="inputVO.mgm_cust_name"
					     				ng-readonly="true" 
					     				ng-disabled="true"
					     				e-length-limit="300"
					     				style="width:200px ">
		                        </td>
		                    </tr>
		                    <tr>
		                        <th width="10%">分行代碼：</th>
		                        <td width="40%">
		                            <input type="text" class="form-control" 
					     				id="branch_nbr" name="branch_nbr" 
					     				ng-model="inputVO.branch_nbr"
					     				ng-readonly="true" 
					     				ng-disabled="true"
					     				e-length-limit="300"
					     				style="width:200px ">
		                        </td>
		                        <th width="10%">理專姓名：</th>
		                        <td width="40%">
		                            <input type="text" class="form-control" 
					     				id="emp_name" name="emp_name" 
					     				ng-model="inputVO.emp_name"
					     				ng-readonly="true"
					     				ng-disabled="true"
					     				e-length-limit="300"
					     				style="width:200px ">
		                        </td>
		                    </tr>
		                    <tr>
		                        <th width="10%">推薦日：</th>
		                        <td width="40%" colspan="3">
		                        	<div style="float: left" class="input-group datebox datewidth">
										<input type="text" id="mgm_start_date" name="mgm_start_date"
											   class="form-control"
											   uib-datepicker-popup="yyyy/MM/dd"
											   ng-model="inputVO.mgm_start_date"
											   ng-change="checkAge()"
											   ng-readonly="true"
											   ng-disabled="inputVO.mgm_cust_name == '' || editFlag == false"
											   is-open="model.a"
											   datepicker-options="mgm_start_dateOptions"/>
											<span class="input-group-btn">
												<button type="button" class="btn btn-default" 
													ng-disabled="inputVO.mgm_cust_name == '' || editFlag == false" 
													ng-click="open($event,'a')">
													<i class="glyphicon glyphicon-calendar"></i>
												</button>																		
											</span>
									</div>	
									<span>【僅能補鍵三個月內推薦之案件】</span>
		                        </td>
		                    </tr>
		                    <tr style="color: red">
		                    	<td colspan="4" style="color: red; font-weight: bold;">*本活動之投保銷量計算期間為：「推薦日」起至次三個月月底之投保銷量總計。</td>
		                    </tr>
		                </table>
		            </div>
		        </div>
				<div class="tfb_content">
		            <div class="tfb_content_icon"></div>
		            <div class="tfb_content_tit"><img src="assets/images/icon/tfb_icon_a15.gif">被推薦人</div>
		        </div>
				<!-- Content of the panel -->
		        <div class="panel_content">
		            <div class="search_table">
		                <table>
		                    <tr>
		                        <th width="10%"><span style="color: red">*</span>被推薦人ID：</th>
		                        <td width="40%">
		                        	<input type="text" class="form-control"
		                        		placeholder="請輸入..." 
					     				id="be_mgm_cust_id" name="be_mgm_cust_id" 
					     				ng-model="inputVO.be_mgm_cust_id" 
					     				ng-blur="checkBeMGMCust()"
					     				ng-disabled="editFlag == false"
					     				e-length-limit="300"
					     				style="width:200px ">
		                        </td>
		                        <th width="10%"><span style="color: red">*</span>被推薦人姓名：</th>
		                        <td width="40%">
		                            <input type="text" class="form-control"
		                            	placeholder="請輸入..."
					     				id="be_mgm_cust_name" name="be_mgm_cust_name" 
					     				ng-model="inputVO.be_mgm_cust_name" 
					     				ng-disabled="editFlag == false"
					     				e-length-limit="300"
					     				style="width:200px ">
		                        </td>
		                    </tr>
		                    <tr>
		                        <th width="10%"><span style="color: red">*</span>連絡電話：</th>
		                        <td width="40%">
		                        	<input type="text" class="form-control"
		                        		placeholder="請輸入..."
					     				id="be_mgm_cust_phone" name="be_mgm_cust_phone" 
					     				ng-model="inputVO.be_mgm_cust_phone" 
					     				ng-disabled="editFlag == false"
					     				e-length-limit="300"
					     				style="width:200px ">
		                        </td>
		                    </tr>
		                </table>
		            </div>
		        </div>
		        <div class="search_table">
		        	<table>
		        		<tr>
		        			<th width="10%">上傳推薦人簽署表單：</th>
							<td ng-show="mgmSignFormName == undefined || row.MGM_SIGN_STATUS == '4'">
								<e-upload success="uploadMGM(name,rname)"></e-upload>
							</td>
							<td ng-show="mgmSignFormName != undefined && row.MGM_SIGN_STATUS != '4'">
								<a href="#" ng-click="signFormView('R')">{{mgmSignFormName}}</a>
							</td>
		        		</tr>
		        		<tr>
		        			<th width="10%">上傳被推薦人簽署表單：</th>
							<td ng-show="beMgmSignFormName == undefined || row.BE_MGM_SIGN_STATUS == '4'">
								<e-upload success="uploadBeMGM(name, rname)"></e-upload>
							</td>
							<td ng-show="beMgmSignFormName != undefined && row.BE_MGM_SIGN_STATUS != '4'">
								<a href="#" ng-click="signFormView('B')">{{beMgmSignFormName}}</a>
							</td>
		        		</tr>
		        		
<!-- 		        		<tr> -->
<!-- 		        			<td style="color: red; font-weight: bold;"> -->
<!-- 		        				推薦人、被推薦人簽署表單依每一個案件鍵機資訊自動產製，請於客戶簽署後交付主管覆核。 -->
<!-- 		        			</td> -->
<!-- 		        		</tr> -->
						
		        	</table>
		        	<table>
		        		<tr>
							<th>備註：
		        				<input type="text" placeholder="請輸入..." 
				     				id="memo" name="memo" 
				     				ng-model="inputVO.memo" 
				     				ng-disabled="editFlag == false"
				     				e-length-limit="300"
				     				style="width:600px ">
					     	</th>
		        		</tr>
		        	</table>
		        </div>
		        <div class="search_box_btn text-center">
	            	<button type="button" class="btn btn-info" 
	            		ng-disabled="inputVO.mgm_cust_id == '' || inputVO.mgm_start_date == undefined || inputVO.be_mgm_cust_id == ''"
	            		ng-hide="editFlag == false"
	            		ng-click="confirmSave()">確認及儲存</button>
	            	<button type="button" class="btn btn-info" 
	            		ng-disabled="inputVO.mgm_sign_form_name == undefined && inputVO.be_mgm_sign_form_name == undefined"
	            		ng-show="inputVO.seq != ''"
	            		ng-click="send()">送出及上傳</button>
	                <button type="button" class="btn btn-info" ng-click="closeThisDialog('cancel')">取消</button>
	            </div>
		        
		        
		        
	     	</div>
		</div>
	</div>
</div>