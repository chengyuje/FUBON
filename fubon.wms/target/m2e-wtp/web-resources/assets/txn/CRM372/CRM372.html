<style>
/* open dialog */
.ngdialog.CRM372 {
	
}
/* dialog panl */
.modal-dialog.CRM372 {
	position: relative;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	width: 850px;
	height: auto;
}
/* table size */
.CRM372 table {
	width: 100%;
	margin-left: auto;
	margin-right: auto;
}
.CRM372 table.little{
	width: 60%;
}
/* change row */
.CRM372.table>tbody>tr>td {
	table-layout: fixed;
	word-break: break-all;
	word-wrap: break-word;
}
/* scroll && height */
.scroll_CRM372_dialog {
	overflow: scroll;
	width: 400px;
	height: 300px;
}
.tdpadding{
	padding:  10px 5px 5px 5px;
}
.alignleft{
	text-align: left !important;
}
.bigspace{
	margin-left: 50px !important;
}
.datewidth{
	width:180px !important;
	float: left !important;
}
</style>

<script type="text/javascript" src="assets/txn/CRM372/CRM372.js"></script>
<script type="text/javascript" src="assets/txn/CRM372/CRM372_EDIT.js"></script>
<script type="text/javascript" src="assets/txn/CRM372/CRM372_REVIEW.js"></script>
<script type="text/javascript" src="assets/txn/CRM372/CRM372_ERROR.js"></script>
<div class="CRM372" ng-controller="CRM372Controller" ng-clock>

	<div class="tfb_content">
		<div class="tfb_content_icon"></div>
		<div class="tfb_content_tit"><img src="assets/images/icon/tfb_icon_a15.gif" >查詢條件</div>
	</div>
  <!--Content of the panel-->
	<div class="panel_content">
    <div class="search_table search_box3">
	<form name="parameterTypeEditForm" class="form-horizontal" data-toggle="validator" role="form" autocomplete="off" enter-as-tab>

      <table style="margin: 0 auto;">
      	<tr>
          <th>專案代碼：</th>
          <td>
            <input type="text" class="form-control" id="prj_code" name="prj_code" ng-model="inputVO.prj_code" style="width:260px" e-length-limit="16">
          </td>
          <th>專案名稱：</th>
          <td>
            <input type="text" class="form-control" id="prj_name" name="prj_name" ng-model="inputVO.prd_name" style="width:260px">
          </td>
        </tr>
        <tr>
          <th>專案目前進度</th>
          <td>
            <e-combobox id="process" name="prj_status"
							ng-datasource="crmPrjStatusList"
							ng-model="inputVO.prj_status"
							ng-validate="false" 
							ng-readonly="false" 
							ng-editable="false"
							ng-format="F3"
							style="line-height:20px;" />
          </td>
          <th>起始日期：</th>
          <td>
            <div class="input-group datebox datewidth">
              <input type="text"
                     class="form-control"
                     uib-datepicker-popup="yyyy/MM/dd"
                     ng-model="inputVO.startDate_s"
                     is-open="model.a"
                     ng-readonly="true"
                     ng-required="false"
                     datepicker-options="sDateOptions"
                     ng-change="limitDate()" />
              <!-- 製作日曆button -->
              <span class="input-group-btn">
                <button type="button"
                        class="btn btn-default"
                        ng-click="open($event,'a')">
                  <i class="glyphicon glyphicon-calendar"></i>
                </button>
              </span>
            </div>
            <div style="float: left !important;">～</div>
            <div class="input-group datebox datewidth">
              <input type="text"
                     class="form-control"
                     uib-datepicker-popup="yyyy/MM/dd"
                     ng-model="inputVO.startDate_e"
                     is-open="model.b"
                     ng-readonly="true"
                     ng-required="false"
                     datepicker-options="sDateOptions"
                     ng-change="limitDate()" />
              <!-- 製作日曆button -->
              <span class="input-group-btn">
                <button type="button"
                        class="btn btn-default"
                        ng-click="open($event,'b')">
                  <i class="glyphicon glyphicon-calendar"></i>
                </button>
              </span>
            </div>
          </td>
        </tr>
        <tr>
          <th>結束日期：</th>
          <td>
            <div class="input-group datebox datewidth">
              <input type="text"
                     class="form-control"
                     uib-datepicker-popup="yyyy/MM/dd"
                     ng-model="inputVO.endDate_s"
                     is-open="model.c"
                     ng-readonly="true"
                     datepicker-options="eDateOptions"
                     ng-change="limitDate()" />
              <!-- 製作日曆button -->
              <span class="input-group-btn">
                <button type="button"
                        class="btn btn-default"
                        ng-click="open($event,'c')">
                  <i class="glyphicon glyphicon-calendar"></i>
                </button>
              </span>
            </div>
            <div style="float: left !important;">～</div>
            <div class="input-group datebox datewidth">
              <input type="text"
                     class="form-control"
                     uib-datepicker-popup="yyyy/MM/dd"
                     ng-model="inputVO.endDate_e"
                     is-open="model.d"
                     ng-readonly="true"
                     datepicker-options="eDateOptions"
                     ng-change="limitDate()" />
              <!-- 製作日曆button -->
              <span class="input-group-btn">
                <button type="button"
                        class="btn btn-default"
                        ng-click="open($event,'d')">
                  <i class="glyphicon glyphicon-calendar"></i>
                </button>
              </span>
            </div>
          </td>
          <th>建立日期：</th>
          <td>
            <div class="input-group datebox datewidth">
              <input type="text"
                     class="form-control"
                     uib-datepicker-popup="yyyy/MM/dd"
                     ng-model="inputVO.createDate_s"
                     is-open="model.e"
                     ng-readonly="true"
                     ng-required="false"
                     datepicker-options="sDateOptions"
                     ng-change="limitDate()" />
              <!-- 製作日曆button -->
              <span class="input-group-btn">
                <button type="button"
                        class="btn btn-default"
                        ng-click="open($event,'e')">
                  <i class="glyphicon glyphicon-calendar"></i>
                </button>
              </span>
            </div>
            <div style="float: left !important;">～</div>
            <div class="input-group datebox datewidth">
              <input type="text"
                     class="form-control"
                     uib-datepicker-popup="yyyy/MM/dd"
                     ng-model="inputVO.createDate_e"
                     is-open="model.f"
                     ng-readonly="true"
                     ng-required="false"
                     datepicker-options="sDateOptions"
                     ng-change="limitDate()" />
              <!-- 製作日曆button -->
              <span class="input-group-btn">
                <button type="button"
                        class="btn btn-default"
                        ng-click="open($event,'f')">
                  <i class="glyphicon glyphicon-calendar"></i>
                </button>
              </span>
            </div>
          </td>
        </tr>
        <tr>
        	<th></th>
        	<td></td>
        	<th>建立人：</th>
        	<td><input type="text" class="form-control" id="creator" name="creator" ng-model="inputVO.creator" style="width: 211px"></td>
        </tr>
      </table>
      </form>
     </div>
	<div class="search_box_btn text-center">
		<button type="button" class="btn btn-info" ng-click="inquire()" >查詢</button>
		<button type="button" class="btn btn-info" ng-click="init()">清除</button>
		<button type="button" class="btn btn-info" ng-click="edit()" ng-show="priID == '043' || priID == '044'">建立全新規劃</button>
	</div>
    <div class="bootstrap-admin-panel-content">
	<e-jumping-once output="outputVO" list="data" totallist="resultList"></e-jumping-once>
	<div class="gv_tab_sc scroll_y" style="min-height:235px;white-space: nowrap;">
      <table class="table e-table-freeze" e-left="5" e-height="600px" e-list="paramList" e-mode="3" e-top="true">
        <thead>
          <th ng-show="priID == '043' || priID == '044'">刪除</th>
		  <th ng-show="priID == '013'">動作</th>
          <th>專案代碼</th>
          <th>專案名稱</th>
          <th>專案目前進度</th>
          <th>起始日期</th>
          <th>結束日期</th>
          <th>建立日期</th>
          <th>建立人</th>
        </thead>
        <tbody>
          <tr ng-repeat="row in data">
            <td ng-show="priID == '043' || priID == '044'" style="text-align: center;">
              <a ng-show="row.PRJ_STATUS == 'S0' || row.PRJ_STATUS == 'S1'" ng-click="delete(row,$index)" class="icon clickable">
                <img src="assets/images/ic-delete.svg">
              </a>
            </td>
            <td ng-show="priID == '013'" style="text-align: center;">
              <button type="button" class="btn btn-info" ng-click="review(row)">評估</button>
            </td>
            <td ng-bind="row.PRJ_CODE"></td>
            <td>
               <a ng-click="edit(row)" ng-show="priID == '043' || priID == '044' || priID == '045' || priID == '046'" >
              	<span ng-bind="row.PRJ_NAME"></span>
              </a>
              <div ng-show="priID == '013'"> <span ng-bind="row.PRJ_NAME"></span></div>                    
            </td>
            <td ng-bind="row.PRJ_STATUS| mapping:crmPrjStatusList:'F3'"></td>
            <td ng-bind="toJsDate(row.START_DATE) | date:'yyyy/MM/dd'"></td>
            <td ng-bind="toJsDate(row.END_DATE) | date:'yyyy/MM/dd'"></td>
            <td ng-bind="toJsDate(row.CREATETIME) | date:'yyyy/MM/dd'"></td>
            <td ng-bind="row.CREATOR"></td>
          </tr>
        </tbody>
      </table>
    </div>
    </div>
  </div>
</div>
