"use strict";var i18nModule=angular.module("i18nDynamic",["ngLocale"]);i18nModule.factory("i18nLanguage",["$rootScope","$locale","$log","i18nDictionary","$window",function(a,e,n,r,i){function o(){this.setLocale(u.language.toLocaleLowerCase())}function t(a,e,r,i){e.dictionary=r,e.dictionary?a.loadAngularLocale(i):(n.warn("No dictionary for locale "+i),i.lastIndexOf("-")>0&&(i=i.slice(0,i.lastIndexOf("-")),i&&a.setLocale(i)))}var u=this;return u.language=i.navigator.language||i.navigator.userLanguage,u.dictionary={},u.angularLocale={en:{DATETIME_FORMATS:{MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,macFrac:0,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3,maxFrac:3},{minInt:1,minFrac:2,macFrac:0,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3,maxFrac:2}],CURRENCY_SYM:"$"},pluralCat:function(a){return 1==a?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER},id:"en"},"zh-tw":{DATETIME_FORMATS:{AMPMS:["上午","下午"],DAY:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],ERANAMES:["西元前","西元"],ERAS:["西元前","西元"],FIRSTDAYOFWEEK:6,MONTH:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],SHORTDAY:["週日","週一","週二","週三","週四","週五","週六"],SHORTMONTH:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],WEEKENDRANGE:[5,6],fullDate:"y年M月d日 EEEE",longDate:"y年M月d日",medium:"y年M月d日 ah:mm:ss",mediumDate:"y年M月d日",mediumTime:"ah:mm:ss","short":"y/M/d ah:mm",shortDate:"y/M/d",shortTime:"ah:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"NT$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"zh-tw",pluralCat:function(a,e){return PLURAL_CATEGORY.OTHER}}},o.prototype.loadAngularLocale=function(a){e.DATETIME_FORMATS=u.angularLocale[a].DATETIME_FORMATS,e.NUMBER_FORMATS=u.angularLocale[a].NUMBER_FORMATS,n.info("language="+a+", $locale="+JSON.stringify(e)),e.id=a},o.prototype.getTranslation=function(a,e){return u.dictionary[a]},o.prototype.setLocale=function(a){var e=this;if(a){n.info("Language modification");var i=r.loadDictionary(a);i.then(function(n){t(e,u,n,a)},function(n){t(e,u,n,a)})}},new o}]),i18nModule.filter("i18n",["$locale","i18nLanguage","$log",function(a,e,n){var r=function(n,r,i){var o=e.getTranslation(n,a);if(o&&r){for(var t=0;t<r.length;t++)r[t]&&(o=o.replace("{"+t+"}",r[t]));return o}return o?o:i?i:n};return r.$stateful=!0,r}]);