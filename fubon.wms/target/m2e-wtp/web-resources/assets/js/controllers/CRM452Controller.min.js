"use strict";eSoafApp.config(["$locationProvider",function(t){t.html5Mode(!0)}]),eSoafApp.controller("CRM452Controller",["$rootScope","$scope","$controller","$location","$interpolate","$timeout","projInfoService","$confirm","sysInfoService","socketService","ngDialog","getParameter",function(t,e,p,i,n,a,c,o,r,s,u,l){p("BaseController",{$scope:e}),e.init=function(){e.inputVO={empID:i.search().empID,type:i.search().type,custID:i.search().custID,seqNum:i.search().seqNum}},e.init(),e.action=function(t,p){"single"==e.inputVO.type?e.inputVO.apply_cat="2":e.inputVO.apply_cat="1",e.inputVO.actionType=t,e.inputVO.con_degree=e.con_degree,e.inputVO.prod_type="","1"==e.inputVO.apply_cat&&"1"==e.inputVO.apply_type||"2"==e.inputVO.apply_cat&&("1"==e.inputVO.apply_type||"2"==e.inputVO.apply_type)?e.inputVO.prod_type=1:e.inputVO.prod_type=2,e.inputVO.fromMPlus=!0,void 0!=p?(e.inputVO.apply_seq=p.APPLY_SEQ,e.inputVO.comments=p.comments,e.inputVO.cust_id=p.CUST_ID,e.inputVO.auth_date_end=new Date(p.BRG_END_DATE),e.inputVO.reviewList=null,o({text:"accept"==t?"是否同意":"",text13:"accept"==t?"":"是否退回"},{size:"sm"}).then(function(){e.sendRecv("CRM431","review","com.systex.jbranch.app.server.fps.crm431.CRM431InputVO",e.inputVO,function(t,e){return!e&&t.length>0?void location.replace(location.href+"&time="+(new Date).getTime()):void 0})})):(e.inputVO.reviewList=e.paramList,o({text:"allAccept"==t?"全部同意":"",text13:"allAccept"==t?"":"全部退回"},{size:"sm"}).then(function(){e.sendRecv("CRM431","review","com.systex.jbranch.app.server.fps.crm431.CRM431InputVO",e.inputVO,function(t,e){return!e&&t.length>0?void location.replace(location.href+"&time="+(new Date).getTime()):void 0})}))},e.viewDetail=function(){e.sendRecv("CRM452","viewDetail","com.systex.jbranch.app.server.fps.crm452.CRM452InputVO",e.inputVO,function(t,p){if(!p){if(0==t[0].body.applyList.length)return;e.paramList=t[0].body.applyList,e.apply_type=e.paramList[0].APPLY_TYPE,e.cust_id=e.paramList[0].CUST_ID,e.cust_name=e.paramList[0].CUST_NAME,e.vip_degree=e.paramList[0].VIP_DEGREE,e.con_degree=e.paramList[0].CON_DEGREE,e.apply_date=e.paramList[0].APPLY_DATE,e.aum_amt=e.paramList[0].AUM_AMT,e.y_profee=e.paramList[0].Y_PROFEE}})},e.viewDetail()}]);