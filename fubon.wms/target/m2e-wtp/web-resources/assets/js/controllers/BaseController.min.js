function BaseController(a,b,c,d,e,f,g,h,j,k,l,m,n){function o(a,b){var c=j("i18n")(a);try{var d=0;c.match("field")?angular.forEach(b,function(){c=c.replace("#{field"+(d+1)+"}#",b[d]),d++}):angular.forEach(b,function(){c=c.replace("{"+d+"}",b[d]),d++})}catch(a){}return c}b.controllerName="",a.language=k.navigator.language||k.navigator.userLanguage,b.$parent.controllerName&&(b.localCtrl=b.$parent.controllerName,a.localCtrl=b.localCtrl),b.initLimit=function(){b.rowCountLimit=d.$paging.rowCountLimit,b.displayLimit=d.getSinglePageRows()[0].DATA,b.inputVO=b.inputVO||{},b.inputVO.pageCount=b.rowCountLimit,b.inputVO.currentPageIndex=0},b.initLimit();var p=function(){return b.clock=new Date};m(function(){return p()},1e3),b.pagingList=function(a,b){return console.log("mode="+d.$paging.mode),1==d.$paging.mode||3==d.$paging.mode?void angular.forEach(b,function(b){a.push(b)}):void(2==d.$paging.mode&&(a.length=0,angular.forEach(b,function(b){a.push(b)})))},b.mappingSet=b.mappingSet||{},b.$changeLocale=function(b){h.setLocale(b),a.language=b},b.args=a.args,b.btnAuth=a.btnAuth||"",b.today=getToday(),b.pageMaxRow=50,b.cbData={},b.connector=function(b,c,d){if((b||c||d)&&b&&c){var e=angular.copy(c.toString().toUpperCase().trim());switch(b.toString().toUpperCase().trim()){case"SET":var f=angular.copy(d);-1===a.server.id.indexOf(e)?(a.server.id.push(e),a.server.data.push(f)):a.server.data[a.server.id.indexOf(e)]=f;break;case"GET":return-1===a.server.id.indexOf(e)?void 0:angular.copy(a.server.data[a.server.id.indexOf(e)]);break;default:}}},a.connector=b.connector,b.$on("to-TabPane",function(a,c){b.$parent.tabInfo.selected&&(console.log(b.controllerName+" Recv "+c),b.tabSelected(),b.showMsg())}),b.tabSelected=function(){},b.hasAuth=function(a){return!!(0<a.length)&&0<=b.btnAuth.indexOf(a)},a.toJsDate=function(b){if(!b)return null;var c=b.split(" "),a=c[0].split("-"),d=c[1].split(":");return new Date(a[0],a[1]-1,a[2],d[0],d[1],d[2])},a.nowDate=new Date,a.minDate=new Date(new Date().getFullYear()-130,0,1),a.maxDate=new Date(new Date().getFullYear()+130,11,31),a.etablesaw=function(){l(function(){$(".tablesaw-advance").remove(),$(".tablesaw").removeData(),$(".tablesaw").table(),$(document).trigger("enhance.tablesaw")})},a.escroll=function(){l(function(){$(".slim-scroll").each(function(){var a=$(this);a.slimScroll({height:a.data("height")||100,railVisible:!0})})})},a.showSuccessMsg=function(b,c){a.showMsgProcess(b,"SUCCESS",c)},a.showMsg=function(b,c){a.showMsgProcess(b,"NORMAL",c)},a.showWarningMsg=function(b,c){a.showMsgProcess(b,"WARNING",c)},a.showErrorMsg=function(b,c){a.showMsgProcess(b,"DANGER",c)},a.showErrorMsgInDialog=function(b,c){a.showMsgProcess(b,"DANGER",c)},a.showMsgProcess=function(c,d,e){if("undefined"!=typeof c&&""!==c){var f=new Date;c=padLeft(f.getHours().toString(),2)+":"+padLeft(f.getMinutes().toString(),2)+":"+padLeft(f.getSeconds().toString(),2)+"-"+o(c,e)}c=c||b.msg,b.msg=c,a.showStatusMsg(c,d)},b.addTabByTxncode=function(b,c){a.addTabByTxncode(b,c)},b.addTab=function(b){a.addTab(b)},b.sendRecv=function(a,d,f,g,h){e.sendRecv(a,d,f,g).then(function(a){for(var d,e=0;e<a.length;e++)switch(d=a[e].body,a[e].header.OutputType){case"Message":"Popup"===d.showType?"ForceLogOut"===d.messageType&&(!b.connector("get","ForceLogOut")&&alert("\u8D85\u904E\u7CFB\u7D71\u9592\u7F6E\u6642\u9593\uFF0C\u8ACB\u91CD\u65B0\u767B\u5165"),b.connector("set","ForceLogOut","Y"),window.location="Login.html"):"Show"===d.showType&&(angular.isArray(d.msgData)?angular.forEach(d.msgData,function(a){b.showMsg(j("i18n")(a))}):b.showMsg(j("i18n")(d.msgData))),"Error"===d.messageType&&(console.log("error"),h(a[e],!0));break;case"Screen":try{h(a,!1)}catch(a){b.showMsg("ERROR:"+a),console.log("stack:"+a.stack)}break;case"EndBracket":break;case"NextProcess":if("downloadFile"==a[e].header.NextProc){var f=d.fileUrl,g=d.defaultFileName,l=new XMLHttpRequest;l.open("GET",f,!0),l.responseType="blob",l.setRequestHeader("Cache-Control","no-cache"),l.onload=function(){200==this.status&&saveAs(this.response,g)},l.send()}else if("viewDoc"==a[e].header.NextProc){var f=d.docUrl,m=d.docType;c.get(f,{responseType:"arraybuffer"}).success(function(a){var b=new Blob([a],{type:"application/"+m}),c=URL.createObjectURL(b);k.open(c)}).error(function(a){b.showErrorMsg("GET "+f+" : "+a.status)})}break;default:}},function(a){console.log("err="+a),b.showErrorMsg(a)})},b.exportFile=function(a,c,d,f){f||(f={}),f.ExportType=d,e.sendRecv(a,"Export",c,f).then(function(a){var c=JSON.parse(a.d),d=c.Header.Status;try{d.RetMsg&&b.showMsg(d.RetCode+" - "+d.RetMsg),"Error"!==d.RetLevel&&window.open("Service/ExportFile.aspx?GetFile=1","_blank")}catch(a){}},function(a){b.showMsg(a)})},b.parseFloat=function(a){return a?parseFloat(a):null},b.requestComboBox=function(a,b,c){c?n.XML(a,function(a){b([{body:{result:a.data[0]}},{body:{result:"success"}}])},c):n.XML(a,function(a){b([{body:{result:a.data[0]}},{body:{result:"success"}}])})},b.JSON2GRID=function(a){if(console.log("JSON2GRID"),"undefined"!=typeof a){var b=[],c=a.length-1;if(0<c){for(var d,e=a[0],f=e.length,g=1;g<=c;g++){d={};for(var h=0;h<f;h++)d[e[h]]=a[g][h];b.push(d)}return b}}return{}},b.JSON2COMBO=function(a){console.log("JSON2COMBO");var b={};for(var c in a){b[c]=[];var d=a[c].length;if(0<d)for(var e=a[c][0],f=1;f<d;f++){var g=a[c][f],h={};h[e[0]]=g[0],h[e[1]]=g[1],b[c].push(h)}}return b},b.comboFind=function(a,b){try{for(var c,d=a.length,e=0;e<d;e++)if(c=a[e],c.code_id==b)return c.code_desc}catch(a){}return""},b.dataGridComboFind=function(a,c){try{if("undefined"!=typeof c&&(c=c.trim(),""!==c))return c+"-"+b.comboFind(a,c)}catch(a){}return""},b.hyperlinkFormat=function(a,b){try{if("undefined"!=typeof a&&("undefined"==typeof b&&(b="#"),a=a.trim(),""!==a))return"#"===b?"<a href=\""+b+"\">"+a+"</a>":"<a href=\""+b+"\" target=\"_blank\">"+a+"</a>"}catch(a){}return""},b.dateTimeFormat=function(a,b,c){try{if("undefined"!=typeof a&&(a=a.trim(),""!==a))return dateTimeFormat(a,b,c)}catch(a){}return""},b.moneyFormat=function(a,b,c){try{if("undefined"!=typeof a)return S2M(a,b,c)}catch(a){}return""},b.moneyUnFormat=function(a){try{if("undefined"!=typeof a&&"string"==typeof a)return a.replace(/[,]/g,"")}catch(a){}return a},b.dataMaskFormat=function(a){try{if("undefined"!=typeof a)return dataMaskFormat(a)}catch(a){}return""},b.cloneTOA=function(a,b){for(var c in a)b[c]=a[c]},b.dataIsEmpty=function(a){for(var c in a=a||"\u8ACB\u81F3\u5C11\u8F38\u5165\u4E00\u9805\u67E5\u8A62\u689D\u4EF6",b.tioa)if("string"==typeof b.tioa[c]&&""!==b.tioa[c])return!1;return b.showMsg(a),!0},b.cleanPane=function(){for(var a,b=arguments.length,c=0;c<b;c++)for(var d in a=arguments[c],a)a[d]=""},b.nextPageQuery=function(a,b){console.log("nextPageQuery.tita="+JSON.stringify(a));var c=parseInt(a.displayPage,10);isNaN(c)&&(c=0),c+=1,a.displayPage=c.toString(),b&&b()},b.prevPageQuery=function(a,b){var c=parseInt(a.displayPage,10);isNaN(c)&&(c=0),0<c&&(c-=1),a.displayPage=c.toString(),b&&b()},b.exitTxn=function(){a.removeSelectedTab()},b.resizeDataGrid=function(a){var b=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;$(".tab-pane .active .ui-jqgrid-bdiv").height(b-160-a-160)},b.showDialog=function(a){return void alert(a)},b.$on("$includeContentLoaded",function(){includeContentLoaded()})}eSoafApp.controller("BaseController",function(a,b,c,d,e,f,g,h,i,j,k,l,m){BaseController(a,b,c,d,e,f,g,h,i,j,k,l,m)});function includeContentLoaded(){aceInit(),$(".dialogs,.comments").slimScroll({height:"300px"}),$("#tasks").sortable(),$("#tasks").disableSelection(),$("#tasks input:checkbox").prop("checked",!1).on("click",function(){this.checked?$(this).closest("li").addClass("selected"):$(this).closest("li").removeClass("selected")}),$(".sparkline").each(function(){var a=$(this).closest(".infobox"),b=a.hasClass("infobox-dark")?"#FFF":a.css("color");$(this).sparkline("html",{tagValuesAttribute:"data-values",type:"bar",barColor:b,chartRangeMin:$(this).data("min")||0})}),$("[data-rel=\"tooltip\"]").tooltip(),$(".slim-scroll").each(function(){var a=$(this);a.slimScroll({height:a.data("height")||100,railVisible:!0})}),$(".span4").sortable({connectWith:".span4",handle:".widget-header",cancel:".portlet-toggle",placeholder:"portlet-placeholder ui-corner-all"}),$(".widget-box transparent").addClass("ui-widget ui-widget-content ui-helper-clearfix ui-corner-all").find(".portlet-header").addClass("ui-widget-header ui-corner-all").prepend("<span class='ui-icon ui-icon-minusthick portlet-toggle'></span>")}function aceInit(){function a(){$("#work1_menu li").removeClass("active"),$("#gn").addClass("active"),$("#poc_Main").hide(),$("#gn_search").hide(),$("#gn_Main").fadeIn("slow")}function b(){$("#work1_menu li").removeClass("active"),$("#poc").addClass("active"),$("#gn_Main").hide(),$("#gn_search").hide(),$("#poc_Main").fadeIn("slow")}function c(){$("#work1_menu li").removeClass("active"),$("#search_nav").addClass("active"),$("#gn_Main").hide(),$("#poc_Main").hide(),$("#gn_search").fadeIn("slow")}function d(b,c){var d=$("#"+c+"").text();console.log(d);$("#recent-tab li").removeClass("active"),$("#task-tab").removeClass("active"),$("#recent-tab").append("<li class=\"active\" ><a data-toggle=\"tab\" href=\"#t"+b+"\"> <span class=\"text_title_size\">"+d+"</span>&nbsp;&nbsp;"+("<span href=\"\" id=\"close"+b+"\" class=\"close\" style=\"  position: absolute; right: 1px; padding: 0px 3px 0px 3px;text-align: right;\">&times;</span> ")+"</a></li>");"\u9EC3\u91D1\u5B58\u647A\u9918\u984D/\u90E8\u5206\u9918\u984D\u8B49\u660E"===d?onA120606_init(b,d):"A. A110000 \u5B58\u6B3E\u8F49\u5E33\u6536\u5165"===d?(console.log("A. A110000"),$("#tabnav_menu").append("<div id=\"t"+b+"\" class=\"tab-pane active \" ><div class=\"widget-header\"><h4>        "+d+"</h4></div><div class=\"widget-body\"><div class=\"widget-main\"><form class=\"form-horizontal\"><div class=\"row-fluid\"><div class=\"span6\"><div class=\"control-group \"id=\"ACNO_control-group\"><label class=\"control-label\" for=\"form-field-1\">                            \u5B58\u6B3E\u5E33\u865F</label><div class=\"controls\" id=\"ACNO_control\" ><span class=\"span6 input-icon input-icon-right\" id=\"ACNO_control_span\"><input class=\"input-medium input-mask-eyescript\" type=\"text\" id=\"ACNO_form-field-mask-1\"></span><span class=\"help-inline\" style=\"margin-top:5px; display:none\" id=\"ACNO_control_span_help-inline\" >\u5B58\u6B3E\u5E33\u865F\u932F\u8AA4</span></div></div></div><div class=\"span6\"><div class=\"control-group \" id=\"DepAmount_control-group\"><label class=\"control-label\" for=\"form-field-1\">                            \u5B58\u6B3E\u984D\u6578</label><div class=\"controls\" id=\"DepAmount_control\"><input class=\"input-medium\"  type=\"text\" id=\"DepAmount_form-field-mask-1\" ></div></div></div></div><div class=\"row-fluid\"><div class=\"span6\"><div class=\"control-group \" id=\"Currency_control-group\"><label class=\"control-label\" for=\"form-field-1\">                                \u5E63\u5225</label><div class=\"controls\" id=\"Currency_control\"><select id=\"Currency_form-field-select-1\" class=\"input-medium\"><option value=\"\"></option><option value=\"AL\">                                    Alabama</option><option value=\"AK\">                                    Alaska</option><option value=\"AZ\">                                    Arizona</option></select></div></div></div><div class=\"span6\"><div class=\"control-group \" id=\"Passbook_control-group\"><label class=\"control-label\" for=\"form-field-1\">                                    \u5B58\u647A\u884C\u6578</label><div class=\"controls\" id=\"Passbook_control\"><input class=\"span2 limited\"  type=\"text\" id=\"Passbook_form-field-mask-1\" ></div></div></div></div><div class=\"row-fluid\"><div class=\"span6\"><div class=\"control-group \" id=\"Price_control-group\"><label class=\"control-label\" for=\"form-field-1\">                            \u91D1\u984D</label><div class=\"controls\" id=\"Price_control\"><input class=\"input-medium\" type=\"text\" id=\"Price_form-field-mask-1\"></div></div></div><div class=\"span6\"><div class=\"control-group \" id=\"FoldNo_control-group\"><label class=\"control-label\" for=\"form-field-1\">                                \u647A\u865F</label><div class=\"controls\" id=\"FoldNo_control\"><input class=\"span3 limited\"  type=\"text\" id=\"FoldNo_form-field-mask-1\" ></div></div></div></div><div class=\"row-fluid\"><div class=\"span6\"><div class=\"control-group \" id=\"Remark_control-group\"><label class=\"control-label\" for=\"form-field-1\">                                \u9644\u8A3B</label><div class=\"controls\" id=\"Remark_control\"><input class=\"input-medium\" type=\"text\" id=\"Remark_form-field-mask-1\"></div></div></div><div class=\"span6\"><div class=\"control-group \" id=\"Date_control-group\"><label class=\"control-label\" for=\"form-field-1\">                                \u8D77\u606F\u65E5</label><div class=\"controls\" id=\"Date_control\"><input class=\"input-medium\"  type=\"text\" id=\"Date_form-field-mask-1\" ></div></div></div></div><div class=\"row-fluid\"><div class=\"span12\"><div class=\"control-group \" id=\"Question_control-group\"><label class=\"control-label\" for=\"form-field-1\">                                \u95DC\u61F7\u63D0\u554F</label><div class=\"controls\" id=\"Question_control\"><select id=\"Question_form-field-select-1\" class=\"span5 limited\"><option value=\"\"></option><option value=\"WA\">                                    Washington</option><option value=\"WV\">                                    West Virginia</option><option value=\"WI\">                                    Wisconsin</option><option value=\"WY\">                                    Wyoming</option></select></div></div></div></div><div class=\"control-group \">&nbsp;</div><div class=\"hr\"></div><br><div class=\"row-fluid\"><div class=\"span12\"><div class=\"control-group \" id=\"UserName_control-group\"><label class=\"control-label\" for=\"form-field-1\">                                \u6236\u540D</label><div class=\"controls\" id=\"UserName_control\"><input class=\"span5 limited\"  type=\"text\" id=\"UserName_form-field-mask-1\" ></div></div></div></div><div class=\"form-actions\"><button onclick=\"return false;\" class=\"btn btn-info\" id=\"a110000_submit\" type=\"submit\"><i class=\"icon-ok\"></i>\u9001\u51FA</button>                    &nbsp; &nbsp; &nbsp;<button class=\"btn\" type=\"reset\"><i class=\"icon-undo\"></i>\u53D6\u6D88</button></div></form></div></div></div>")):"\u5206\u884C\u96FB\u5B50\u65E5\u8A8C\u67E5\u8A62/\u5217\u5370"===d?onSIEJ001_init(b,d):"110320+110220 \u6574\u5408\u6027\u4EA4\u6613"===d?onA110320_init(b,d):void 0;$("#close"+b).bind("click",function(){$("#tabnav_menu div").removeClass("active"),$("#recent-tab li").removeClass("active"),$("#tabcontent p").hide(),console.log("count : "+b);for(var c=0;c<b;c++)$("#t"+c).removeClass("active");return $(this).parent().remove(),$("#c"+b).remove(),$("#t"+b).remove(),$("#task-tab").addClass("active"),$("#nav_tab_main").addClass("active"),!1})}$("#gn_Main").hide(),$("#gn_search").hide(),$("#gn").on("click",function(){a()});$("#poc").on("click",function(){b()});$("#search_nav").on("click",function(){console.log("search_nav"),c()});$(".business_input").on("keypress",function(a){if(code=a.keyCode?a.keyCode:a.which,13==code){var b=$(this).val();console.log(b),"110320"===b?(total_tabs++,d(total_tabs,"A110320")):"120606"===b?(total_tabs++,d(total_tabs,"A120606")):void 0}})}
eSoafApp.controller('BaseController',
    function($rootScope, $scope, $http, projInfoService, socketService, ngDialog, $q, i18nLanguage, $filter, $window, $timeout, $interval, getParameter) {
        BaseController($rootScope, $scope, $http, projInfoService, socketService, ngDialog, $q, i18nLanguage, $filter, $window, $timeout, $interval, getParameter);
    });