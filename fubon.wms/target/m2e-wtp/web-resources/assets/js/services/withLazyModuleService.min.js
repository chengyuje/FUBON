eSoafApp.factory("withLazyModule",["$rootScope","$templateCache","$q",function(e,o,n){function r(){u=n.defer(),l=null,console.log("resetPromise")}function t(n,t,c){return t=t||angular.noop,c=c||angular.noop,l=u.promise,a.push(n),l.then(t,c),require([n],function(n){$(n).each(function(){var e=$(this),n=e.attr("id"),r=e.html();o.put(n,r)}),e.$apply(function(){console.log("deferred.resolve"),u.resolve(),r()})},function(o){e.$apply(function(){u.reject(o),r()})}),l}var u=n.defer(),l=null,a=[];return t}]);