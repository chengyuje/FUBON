<style>
/* open dialog */
.ngdialog.CRM827_DETAIL {
	
}
/* dialog panl */
.modal-dialog.CRM827_DETAIL {
	position: relative;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	width: 850px;
	height: 550px;
	overflow:auto;
}

@media only screen and (min-height: 800px) {
  .modal-dialog.CRM827_DETAIL {
	position: relative;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	width: 850px;
	height: 850px;
	overflow:auto;
}
}

</style>
<script type="text/javascript" src="assets/txn/CRM827/CRM827_DEP.js"></script>
<div class="CRM827_DETAIL" ng-controller="CRM827_DETAILController" ng-cloak>
	<div class="modal-dialog CRM827_DETAIL">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" ng-click="closeThisDialog('cancel')">&times;</button>
				<h4 id="myModalAlertLabel" class="modal-title" align="center">明細畫面</h4>
			</div>
			<div class="modal-body">
				<h4 class="h4-title">受益人受益權比例</h4>
				<div class="gv_tab_sc scroll_y" style="white-space: nowrap;">
					<table class="table-bordered">
						<tr>
							<th style="width:50%">受益人名稱</th>
							<th style="width:50%">受益權比例</th>
						</tr>
						<tr ng-if ="row.DB_ARR09.length > 0">
							<td align="center">{{row.DB_ARR09}}</td> <!--DB-->
							<td align="right">{{row.DB_ARR10 | number:2}}</td> <!--DB-->
						</tr>
						<tr ng-if ="row.DB_ARR15.length > 0">
							<td align="center">{{row.DB_ARR15}}</td> <!--DB-->
							<td align="right">{{row.DB_ARR16 | number:2}}</td> <!--DB-->
						</tr>
						<tr ng-if ="row.DB_ARR21.length > 0">
							<td align="center">{{row.DB_ARR21}}</td> <!--DB-->
							<td align="right">{{row.DB_ARR22 | number:2}}</td> <!--DB-->
						</tr>
						<tr ng-if ="row.DB_ARR27.length > 0">
							<td align="center">{{row.DB_ARR27}}</td> <!--DB-->
							<td align="right">{{row.DB_ARR28 | number:2}}</td> <!--DB-->
						</tr>
						<tr ng-if ="row.DB_ARR33.length > 0">
							<td align="center">{{row.DB_ARR33}}</td> <!--DB-->
							<td align="right">{{row.DB_ARR34 | number:2}}</td> <!--DB-->
						</tr>
					</table>
					<br>
					<table class="table-bordered">
						<tr>
							<th style="width:35%">受益人名稱</th>
							<th style="width:15%">定額給付幣別</th>
							<th style="width:20%">定額給付金額</th>
							<th style="width:15%">頻率</th>
							<th style="width:15%">給付日</th>
						</tr>
						<tr ng-if ="row.DB_ARR09.length > 0">
							<td align="center">{{row.DB_ARR09}}</td> <!--DB-->
							<td align="center">{{row.DB_ARR11}}</td> <!--DB-->
							<td align="right">{{row.DB_ARR12 | number:2}}</td> <!--DB-->
							<td align="center">{{row.DB_ARR13}}</td> <!--DB-->
							<td align="center">{{row.DB_ARR14}}</td> <!--DB-->
						</tr>
						<tr ng-if ="row.DB_ARR15.length > 0">
							<td align="center">{{row.DB_ARR15}}</td> <!--DB-->
							<td align="center">{{row.DB_ARR17}}</td> <!--DB-->
							<td align="right">{{row.DB_ARR18 | number:2}}</td> <!--DB-->
							<td align="center">{{row.DB_ARR19}}</td> <!--DB-->
							<td align="center">{{row.DB_ARR20}}</td> <!--DB-->
						</tr>
						<tr ng-if ="row.DB_ARR21.length > 0">
							<td align="center">{{row.DB_ARR21}}</td> <!--DB-->
							<td align="center">{{row.DB_ARR23}}</td> <!--DB-->
							<td align="right">{{row.DB_ARR24 | number:2}}</td> <!--DB-->
							<td align="center">{{row.DB_ARR25}}</td> <!--DB-->
							<td align="center">{{row.DB_ARR26}}</td> <!--DB-->
						</tr>
						<tr ng-if ="row.DB_ARR27.length > 0">
							<td align="center">{{row.DB_ARR27}}</td> <!--DB-->
							<td align="center">{{row.DB_ARR29}}</td> <!--DB-->
							<td align="right">{{row.DB_ARR30 | number:2}}</td> <!--DB-->
							<td align="center">{{row.DB_ARR31}}</td> <!--DB-->
							<td align="center">{{row.DB_ARR32}}</td> <!--DB-->
						</tr>
						<tr ng-if ="row.DB_ARR33.length > 0">
							<td align="center">{{row.DB_ARR33}}</td> <!--DB-->
							<td align="center">{{row.DB_ARR35}}</td> <!--DB-->
							<td align="right">{{row.DB_ARR36 | number:2}}</td> <!--DB-->
							<td align="center">{{row.DB_ARR37}}</td> <!--DB-->
							<td align="center">{{row.DB_ARR38}}</td> <!--DB-->
						</tr>
					</table>
				</div>
				<h4 class="h4-title">金錢信託投資商品</h4>
				<div class="gv_tab_sc scroll_y" style="white-space: nowrap;">
					<table class="table-bordered">
						<tr>
							<th>台外幣活存、定存</th>
							<th>基金</th>
							<th>海外ETF/海外股票</th>
							<th>海外債</th>
							<th>組合式商品(SI)</th>
							<th>境外結構式商品(SN)</th>
						</tr>
						<tr>
							<td align="center"><a href="" onclick="return false" ng-click="showData = 1">台外幣活存、定存</a></td>
							<td align="center"><a href="" onclick="return false" ng-click="showData = 2">基金</a></td>
							<td align="center"><a href="" onclick="return false" ng-click="showData = 3">海外ETF/海外股票</a></td>
							<td align="center"><a href="" onclick="return false" ng-click="showData = 4">海外債</a></td>
							<td align="center"><a href="" onclick="return false" ng-click="showData = 5">組合式商品(SI)</a></td>
							<td align="center"><a href="" onclick="return false" ng-click="showData = 6">境外結構型商品(SN)</a></td>
						</tr>
					</table>
				</div>
                <div ng-if="showData==1" ng-include="'assets/txn/CRM827/CRM827_DEP.html'">1</div>
				<div ng-if="showData==2" ng-include="'assets/txn/CRM827/CRM827_FUND.html'">2</div>
				<div ng-if="showData==3" ng-include="'assets/txn/CRM827/CRM827_ETF.html'">3</div>
				<div ng-if="showData==4" ng-include="'assets/txn/CRM827/CRM827_FBOND.html'">4</div>
				<div ng-if="showData==5" ng-include="'assets/txn/CRM827/CRM827_SI.html'">5</div>
				<div ng-if="showData==6" ng-include="'assets/txn/CRM827/CRM827_SN.html'">6</div>
				
				<br>
				<h4 class="h4-title">信託財產運用決定權人</h4>
				<e-jumping-once output="outputVO1" list="data1" totallist="resultList1"></e-jumping-once>
			    <div class="gv_tab_sc scroll_y" style="white-space: nowrap;">
			        <table class="modal-body table-bordered">
			            <tr>
			                <th>指示類型</th>
							<th>約定方式</th>
							<th>關係人類別</th>
							<th>關係人姓名</th>
							<th>指示方式</th>
			            </tr>
			            <tr ng-repeat-start="(a, dataA) in data1 | groupBy: 'TMF02L'  as resultA">
			                <td rowspan="{{dataA.length + numGroups(resultB)*2 + 1}}" style="text-align: left;">{{a | mapping:mappingSet['CRM.MON_REL_INS_TYPE']:'F3'}}</a></td>
			            </tr>
			            <tr ng-repeat-start="(b, dataB) in dataA |  groupBy: 'TMF03L' as resultB">
							<td rowspan="{{dataB.length + 1}}" >{{b | mapping:mappingSet['CRM.MON_REL_INS_TYPE_' + a]:'F3'}}</td>
						</tr>
			            <tr ng-repeat="c in dataB">
			                <td style="text-align: left;">{{c.S1YO04 | mapping:mappingSet['CRM.MON_REL_TYPE']:'F3'}}</a></td>
			                <td style="text-align: left;">{{c.S1YO051}}</td>
			                <td style="text-align: left;">{{c.S1YO06}}</td>
			            </tr>
			            <tr ng-repeat-end/>
			            <tr ng-repeat-end/>
			        </table>
			    </div>
				<br>
				<h4 class="h4-title">其他運用指示有權人</h4>
				<e-jumping-once output="outputVO2" list="data2" totallist="resultList2" rowcountlimit="20"></e-jumping-once>
				<div class="gv_tab_sc scroll_y" style="white-space: nowrap;">
			        <table class="modal-body table-bordered">
			            <tr>
			                <th>指示類型</th>
							<th>約定方式</th>
							<th>關係人類別</th>
							<th>關係人姓名</th>
							<th>指示方式</th>
			            </tr>
			            <tr ng-repeat-start="(a, dataA) in data2 | groupBy: 'TMF02L'  as resultA">
			                <td rowspan="{{dataA.length + numGroups(resultB)*2 + 1}}" style="text-align: left;">{{a | mapping:mappingSet['CRM.MON_REL_INS_TYPE']:'F3'}}</a></td>
			            </tr>
			            <tr ng-repeat-start="(b, dataB) in dataA |  groupBy: 'TMF03L' as resultB">
							<td rowspan="{{dataB.length + 1}}" >{{b | mapping:mappingSet['CRM.MON_REL_INS_TYPE_' + a]:'F3'}}</td>
						</tr>
			            <tr ng-repeat="c in dataB">
			                <td style="text-align: left;">{{c.S1YO04 | mapping:mappingSet['CRM.MON_REL_TYPE']:'F3'}}</a></td>
			                <td style="text-align: left;">{{c.S1YO051}}</td>
			                <td style="text-align: left;">{{c.S1YO06}}</td>
			            </tr>
			            <tr ng-repeat-end/>
			            <tr ng-repeat-end/>
			        </table>
			    </div>
				<span class="with-errors">
					註:查詢時如「約定方式」選項含有信託監察人，惟「關係人類別」未顯示者，表示該契約目前暫無有效之信託監察人。
					<br/>
				</span>
				<br/>
				<h4 class="h4-title">授權第三人</h4>
				<e-jumping-once output="outputVO3" list="data3" totallist="resultList3"></e-jumping-once>
			    <div class="gv_tab_sc scroll_y" style="white-space: nowrap;">
			        <table class="modal-body table-bordered">
			            <tr>
			                <th>姓名</th>
			            </tr>
			            <tr class="repeat-row" ng-repeat="row in data3 | limitTo:displayLimit track by $index" ng-class-odd="'rowOdd'" ng-class-even="'rowEven'">
			                <td style="text-align: left;">{{row.S1YQ04}}</a></td>
			            </tr>
			        </table>
			    </div>
				<br>
				<h4 class="h4-title">投資標的限制-不可申購</h4>
				<e-jumping-once output="resOutputVO" list="resData" totallist="resultList_data"></e-jumping-once>
			    <div class="gv_tab_sc scroll_y" style="white-space: nowrap;">
			        <table class="modal-body table-bordered">
			            <tr>
			                <th>發行區域</th>
							<th>商品類型</th>
							<th>基金除權息</th>
			            </tr>
			            <tr class="repeat-row" ng-repeat="row in resData | limitTo:displayLimit track by $index" ng-class-odd="'rowOdd'" ng-class-even="'rowEven'">
			                <td style="text-align: left;">{{row.S1YR04 | mapping:mappingSet['CRM.MON_RES_AREA']:'F3'}}</a></td>
			                <td style="text-align: left;">{{row.S1YR05 | mapping:mappingSet['CRM.MON_RES_PROD_TYPE']:'F3'}}</td>
			                <td style="text-align: left;">{{row.S1YR06 | mapping:mappingSet['CRM.MON_RES_EXDIVIDENT']:'F3'}}</a></td>
			            </tr>
			        </table>
			    </div>
				
				<div class="search_box_btn text-center">
					<button type="button" class="btn btn-info" ng-click="closeThisDialog('cancel')" >確定</button>
				</div>
			</div>
		</div>
	</div>
</div>