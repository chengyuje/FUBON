"use strict";eSoafApp.controller("CMFPG000_AgentController",["$rootScope","$scope","$controller","socketService","projInfoService","sysInfoService",function(e,o,t,r,n,s){t("BaseController",{$scope:o}),o.controllerName="CMFPG000_AgentController",o.loginSourceToken=sessionStorage.CMFPG000_MOBILE_LOGIN?"mobile":void 0;var i=o.userList.map(function(e){return e.ROLE_NAME}).indexOf(n.getRoleName());i=-1==i?0:i,o.inputVO={select:o.userList[i]},o.foucsButton=function(){$("#savebut").focus()},o.save=function(){o.inputVO.select?o.sendRecv("CMFPG000","tlron","com.systex.jbranch.app.server.fps.cmfpg000.LoginPageVO",{iptAppUsername:o.inputVO.select.EMP_ID,iptAppUserRole:o.inputVO.select.ROLE_ID,iptAppUserDeptID:o.inputVO.select.DEPT_ID,iptAppUserRegioinCenterID:o.inputVO.select.REGION_CENTER_ID,iptAppUserRegioinCenterName:o.inputVO.select.REGION_CENTER_NAME,iptAppUserBranchAreaID:o.inputVO.select.BRANCH_AREA_ID,iptAppUserBranchAreaName:o.inputVO.select.BRANCH_AREA_NAME,iptAppUserBranchID:o.inputVO.select.BRANCH_NBR,iptAppUserBranchName:o.inputVO.select.BRANCH_NAME,iptAppUserIsPrimaryRole:o.inputVO.select.IS_PRIMARY_ROLE,loginSourceToken:o.loginSourceToken,currentUserId:s.getCurrentUserId()},function(e,t){console.log("AGENT-tlron tota="+e+", isError="+t),t?o.showErrorMsg(e[0].body.msgData):(n.LoginInfo=e[0].body,console.log(JSON.stringify(n.LoginInfo)),o.closeThisDialog("successful"))}):o.showErrorMsgInDialog("請選擇角色")}}]);