package com.systex.jbranch.platform.common.test;

import java.lang.reflect.Type;
import java.util.ArrayList;
import java.util.List;

import org.junit.Ignore;
import org.junit.Test;

import com.google.gson.reflect.TypeToken;
import com.systex.jbranch.platform.common.report.generator.linemode.context.Page;
import com.systex.jbranch.platform.common.util.JsonUtil;

/**
 * @author Alex Lin
 * @version 2010/11/11 4:28 PM
 */
@Ignore
public class MyJBranchTest extends JBranchTest {
	
    @Test
    public void test() throws Exception {
//        DataAccessManager dam = (DataAccessManager) PlatformContext.getBean("dataAccessManager");
//        TbsysuserVO user = (TbsysuserVO) dam.findByPKey(TbsysuserVO.TABLE_UID, "0037");
//        assertNotNull(user);
//        assertEquals("0037", user.getTellerid());
//    	List<Page> pages = new ArrayList<Page>();
//    	pages.add(new Page());
//    	Type collectionType = new TypeToken<List<Page>>(){}.getType();
//    	String json = JsonUtil.toJson(pages);
//    	List<Page> list = JsonUtil.fromJson(json, collectionType);
//    	System.out.println("test mode");
//    	for (int i = 0; i < list.size(); i++) {
//			System.out.println(pages.get(i).toString());
//		}
    	assert true;
    }
    public static void main(String[] args) throws Exception {
		new MyJBranchTest().test();
	}
//    @Test
//    @Ignore
//    public void testAddUser() throws Exception {
//        DataAccessManager dam = (DataAccessManager) PlatformContext.getBean("dataAccessManager");
//        TbsysuserVO user = new TbsysuserVO();
//        user.setTellerid("aaaa");
//        user.setPassword("aaaa");
//        user.setName("123456789012345678901234567890");
//        user.setStatus("1");
//        user.setUseflag("1");
//        user.setSessnum((short) 0);
//        user.setErrlevel("");
//        dam.create(user);
//
//        assertNotNull(user);
//        assertEquals("aaaa", user.getTellerid());
//    }
//
//    @Ignore
//    @Test
//    public void testGetBeans() throws Exception {
//        DataAccessManager dam = (DataAccessManager) PlatformContext.getBean("dataAccessManager");
//        QueryConditionIF queryCondition = dam.getQueryCondition(DataAccessManager.QUERY_LANGUAGE_TYPE_VAR_SQL);
//        queryCondition.setQueryString("select tellerid from tbsysuser where tellerid = :tellerId");
//        queryCondition.setObject("tellerId", "0037");
//        queryCondition.setEntityClass(TbsysuserVO.class);
//        List<TbsysuserVO> users = dam.executeQuery(queryCondition);
//        assertNotNull(users);
//        assertEquals(1, users.size());
//        assertEquals("0037", users.get(0).getTellerid());
//    }
//
//    @Ignore
//    @Test
//    public void testGetMaps() throws Exception {
//        DataAccessManager dam = (DataAccessManager) PlatformContext.getBean("dataAccessManager");
//        QueryConditionIF queryCondition = dam.getQueryCondition(DataAccessManager.QUERY_LANGUAGE_TYPE_VAR_SQL);
//        queryCondition.setQueryString("select * from tbsysuser where tellerid = :tellerId");
//        queryCondition.setObject("tellerId", "0037");
////        queryCondition.setEntityClass(TbsysuserVO.class);
//        List<Map> users = dam.executeQuery(queryCondition);
//        assertNotNull(users);
//        assertEquals(1, users.size());
//        assertEquals("0037", users.get(0).get("TELLERID"));
//    }
    
}
